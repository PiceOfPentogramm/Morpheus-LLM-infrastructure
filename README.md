# Morpheus — LLM Infrastructure

Приложение запускается на компьютере пользователя (в виде **.exe**) и общается с пользователем через Telegram. Ядро и инфраструктура разделены и общаются между собой через локальный API.

## Что внутри

### Infrastructure (инфраструктура)
- Небольшое окно настройки (токен бота, выбор источника LLM, режим работы).
- Подключение к Telegram.
- Локальный API (связь с ядром).
- Подготовка к упаковке в .exe.

### Core (ядро)
- Получает запросы от инфраструктуры через API.
- Делает обработку и формирует ответ.
- Поддерживает разные источники LLM и режимы работы (описано ниже).

## Источники LLM (2 варианта)

1. **Внешняя LLM по токену**
   - Ядро отправляет запросы во внешний сервис (по API‑токену).
   - Подходит, когда нужна максимальная “сила” модели и есть интернет.

2. **Локальная LLM**
   - Модель работает прямо на ПК пользователя.
   - Подходит, когда важна приватность и автономность.

## Режимы работы ядра (2 режима)

1. **Прямой ввод → вывод (без обработки)**
   - Сообщение из Telegram уходит в LLM и ответ сразу возвращается пользователю.
   - Это самый простой режим для MVP и отладки.

2. **Полноценная обработка с трёхслойной памятью**
   - Перед запросом к LLM ядро подмешивает “память”, чтобы ответы были умнее и стабильнее.
   - Планируется три слоя памяти (концепция):
     - Короткая: контекст текущего диалога.
     - Средняя: важные факты “на время” (сессии/периода).
     - Долгая: профиль и знания о пользователе.

## Как это работает

1. Пользователь запускает .exe.
2. В окне настройки указывает токен Telegram‑бота, выбирает источник LLM и режим ядра.
3. Дальше всё общение идёт в Telegram.
4. Поток сообщений:
   - Telegram → Infrastructure → (локальный API) → Core → (локальный API) → Infrastructure → Telegram

## Репозиторий

Этот репозиторий — про инфраструктуру и основу проекта (каркас). Ядро может развиваться отдельно, но интерфейс связи — через API.

## План ближайших шагов
- Сделать рабочий Telegram‑бот (приём/ответ).
- Сделать простой локальный API.
- Подключить режим 1 (прямой ввод → вывод) с выбранным источником LLM.
- После MVP перейти к режиму 2 (трёхслойная память).
